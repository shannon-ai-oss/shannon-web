:root {
    --canvas: #fffaed;
    --ink: #1f2937;
    --muted: #6b7280;
    --divider: #e5e7eb;
    --accent: #e86e3a;
    --accent-soft: rgba(232, 110, 58, 0.16);
    --surface: rgba(255, 255, 255, 0.7);
    --font-stack:
        "Inter", "Segoe UI", "Source Sans Pro", -apple-system,
        BlinkMacSystemFont, sans-serif;
}

.chat-page {
    min-height: 0;
    height: 100%;
    width: 100%;
    background: transparent;
    display: flex;
    flex-direction: column;
}

.chat-page > .claude-chat-container {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    min-height: 0;
}

a {
    color: inherit;
}

button {
    font-family: inherit;
    background: none;
    border: none;
    cursor: pointer;
}

button:focus-visible,
textarea:focus-visible,
input:focus-visible {
    outline: 2px solid rgba(232, 110, 58, 0.35);
    outline-offset: 2px;
}

.claude-chat-container {
    height: 100%;
    flex: 1 1 auto;
    min-height: 0;
    width: 100%;
    display: flex;
    flex-direction: column;
    background: var(--canvas);
    color: inherit;
    position: relative;
    overflow: hidden;
}

.claude-chat-body {
    flex: 1 1 auto;
    min-height: 0;
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    background: transparent;
    overflow: hidden;
    position: relative;
}

.claude-top-bar {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    z-index: 10;
    pointer-events: none;
}

.claude-bar-inner {
    width: min(960px, 92%);
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    box-sizing: border-box;
    background: transparent;
}

.claude-top-bar .claude-bar-inner {
    width: 100%;
    max-width: none;
    margin: 0;
    padding: 12px clamp(18px, 5vw, 32px);
    justify-content: flex-end;
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
    pointer-events: auto;
}

.claude-top-title {
    font-size: 18px;
    font-weight: 600;
    letter-spacing: 0.06em;
    text-transform: uppercase;
}

.claude-top-link {
    font-size: 13px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--muted);
    padding: 4px 0;
    transition: color 0.18s ease;
}

.layout-root.chat-route .claude-top-link {
    color: var(--muted);
}

.claude-top-link:hover {
    color: var(--accent);
    text-decoration: underline;
}

.claude-messages-container {
    flex: 1 1 0%;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 16px clamp(18px, 5vw, 32px)
        calc(120px + env(safe-area-inset-bottom, 0px));
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 0;
    box-sizing: border-box;
    scroll-padding-top: 32px;
    scroll-padding-bottom: 120px;
    scroll-behavior: smooth;
}

.claude-empty-chat {
    flex: 1 1 auto;
    display: grid;
    grid-template-rows: 1fr auto;
    align-items: center;
    justify-items: center;
    padding: 32px clamp(16px, 4vw, 32px) 48px;
    box-sizing: border-box;
    width: 100%;
}

.claude-empty-chat-ads {
    row-gap: 16px;
}

.claude-empty-card {
    width: 90%;
    max-width: none;
    display: flex;
    flex-direction: column;
    gap: 24px;
    background: rgba(255, 255, 255, 0.85);
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 20px;
    padding: clamp(24px, 5vw, 36px);
    box-shadow: 0 8px 32px -8px rgba(15, 23, 42, 0.1);
}

.claude-empty-header {
    text-align: center;
}

.claude-empty-title {
    margin: 0 0 8px 0;
    font-size: clamp(1.4rem, 4vw, 1.65rem);
    font-weight: 600;
    color: var(--ink);
    letter-spacing: -0.01em;
}

.claude-empty-subtitle {
    margin: 0;
    color: var(--muted);
    font-size: 0.95rem;
}

.claude-empty-tags {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
}

.claude-tag {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: rgba(248, 250, 252, 0.9);
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--muted);
}

.claude-tag-icon {
    font-size: 15px !important;
    opacity: 0.7;
}

.claude-empty-card .claude-composer {
    margin-top: 0;
}

.claude-empty-ad {
    width: min(92%, 760px);
    justify-self: center;
}

.claude-empty-highlights {
    display: none;
}

.claude-empty-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 14px;
    background: rgba(59, 130, 246, 0.12);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    color: #1d4ed8;
    width: fit-content;
}

.claude-empty-quick {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
    margin-top: 4px;
}

.claude-quick-item {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid rgba(148, 163, 184, 0.3);
    background: rgba(255, 255, 255, 0.7);
    color: #1f2937;
    font-weight: 600;
    box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
}

.claude-empty-meta {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 8px 12px;
    padding: 12px 14px;
    border-radius: 12px;
    background: rgba(248, 250, 252, 0.9);
    border: 1px dashed rgba(148, 163, 184, 0.35);
}

.claude-meta-row {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.meta-label {
    font-size: 0.8rem;
    color: rgba(100, 116, 139, 0.9);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    font-weight: 700;
}

.meta-value {
    font-size: 0.95rem;
    color: #0f172a;
    font-weight: 600;
}

/* Mobile Responsive */
@media (max-width: 540px) {
    .claude-empty-chat {
        padding: 24px 12px 32px;
    }

    .claude-empty-card {
        gap: 20px;
        padding: 20px 16px 24px;
        border-radius: 16px;
    }

    .claude-empty-title {
        font-size: 1.35rem;
    }

    .claude-empty-subtitle {
        font-size: 0.9rem;
    }

    .claude-empty-tags {
        gap: 6px;
    }

    .claude-tag {
        padding: 5px 10px;
        font-size: 0.75rem;
        gap: 5px;
    }

    .claude-tag-icon {
        font-size: 13px !important;
    }
}

.claude-messages {
    width: min(960px, 92%);
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 36px;
}

.claude-message {
    display: flex;
    flex-direction: column;
    gap: 14px;
    align-items: flex-start;
    color: var(--ink);
}

.claude-inline-ad {
    width: 100%;
    max-width: 720px;
    margin-top: -14px;
    align-self: center;
}

.claude-inline-ad-assistant {
    margin-top: 6px;
}

.claude-user-bubble {
    position: relative;
    display: inline-flex;
    flex-direction: column;
    gap: 12px;
    padding: 14px 22px 16px 14px;
    border-radius: 18px;
    background: linear-gradient(
        135deg,
        rgba(35, 40, 54, 0.92) 0%,
        rgba(54, 60, 75, 0.86) 100%
    );
    color: rgba(248, 250, 252, 0.94);
    max-width: min(75ch, 100%);
    border: 1px solid rgba(148, 163, 184, 0.28);
    box-shadow:
        0 26px 48px -28px rgba(15, 23, 42, 0.75),
        0 1px 0 rgba(255, 255, 255, 0.28) inset;
    transition:
        box-shadow 0.25s ease,
        border-color 0.25s ease;
}

.claude-user-bubble:hover {
    border-color: rgba(203, 213, 225, 0.45);
    box-shadow:
        0 32px 54px -26px rgba(15, 23, 42, 0.78),
        0 1px 0 rgba(255, 255, 255, 0.32) inset;
}

.claude-user-bubble-inner {
    display: flex;
    align-items: flex-start;
    gap: 12px;
}

.claude-user-bubble-avatar {
    flex-shrink: 0;
    width: 28px;
    height: 28px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    letter-spacing: 0.08em;
    font-weight: 700;
    text-transform: uppercase;
    color: #0f172a;
    background: linear-gradient(
        135deg,
        rgba(226, 232, 240, 0.95) 0%,
        rgba(255, 255, 255, 0.7) 100%
    );
    box-shadow:
        0 12px 26px -18px rgba(15, 23, 42, 0.6),
        0 1px 0 rgba(255, 255, 255, 0.5) inset;
}

.claude-user-bubble-body {
    display: grid;
    gap: 8px;
    min-width: 0;
}

.claude-user-bubble-body .claude-thinking-wrapper {
    justify-content: flex-start;
    color: rgba(241, 245, 249, 0.9);
}

.claude-user-bubble-body .claude-thinking-dots span {
    background: rgba(226, 232, 240, 0.9);
}

.claude-user-bubble-text {
    margin: 0;
    font-size: 15px;
    line-height: 1.65;
    letter-spacing: 0.01em;
    color: inherit;
    white-space: pre-wrap;
    word-break: break-word;
    text-shadow:
        0 0 6px rgba(232, 110, 58, 0.18),
        0 0 18px rgba(232, 110, 58, 0.12);
}

.claude-user-bubble-error {
    font-size: 14px;
    font-weight: 600;
    color: #fecaca;
    margin: 0;
}

.claude-user-bubble-hover {
    position: absolute;
    bottom: 10px;
    right: 12px;
    pointer-events: none;
    opacity: 0;
    transform: translate(0, 0);
    transition: opacity 0.2s ease;
}

.claude-user-bubble:hover .claude-user-bubble-hover {
    opacity: 1;
}

.claude-user-bubble-surface {
    pointer-events: auto;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px;
    border-radius: 10px;
    background: rgba(248, 250, 252, 0.92);
    border: 1px solid rgba(148, 163, 184, 0.45);
    backdrop-filter: blur(6px);
    box-shadow: 0 18px 32px -20px rgba(15, 23, 42, 0.6);
}

.claude-user-action {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    color: #475569;
    transition:
        background 0.18s ease,
        color 0.18s ease,
        transform 0.18s ease;
}

.claude-user-action svg {
    width: 18px;
    height: 18px;
}

.claude-user-action:hover {
    background: rgba(148, 163, 184, 0.22);
    color: #1f2937;
    transform: translateY(-1px);
}

.claude-user-action:active {
    transform: translateY(0);
}

.claude-user-action.danger {
    color: rgba(190, 18, 60, 0.78);
}

.claude-user-action.danger:hover {
    color: #be123c;
    background: rgba(252, 165, 165, 0.25);
}

.claude-user-action:disabled {
    cursor: not-allowed;
    opacity: 0.4;
    transform: none;
}

.claude-message-label {
    font-size: 11px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--muted);
}

.claude-message-body {
    width: 100%;
    font-size: 16px;
    line-height: 1.62;
    word-break: break-word;
    text-shadow:
        0 0 6px rgba(232, 110, 58, 0.18),
        0 0 18px rgba(232, 110, 58, 0.12);
}

.claude-message-body-user {
    background: #fbfaf8;
    padding: 20px 24px;
    border-radius: 16px;
}

.claude-message-body p {
    margin: 0 0 14px 0;
}

.claude-message-body p:last-child {
    margin-bottom: 0;
}

.claude-message-actions {
    display: flex;
    align-items: center;
    gap: 12px;
    align-self: flex-end;
    opacity: 0;
    pointer-events: none;
    transition: opacity 180ms ease;
}

.claude-message:hover .claude-message-actions,
.claude-message:focus-within .claude-message-actions {
    opacity: 1;
    pointer-events: auto;
}

.claude-message-action,
button.claude-message-action {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 6px;
    border-radius: 8px;
    font-size: 12px;
    color: var(--muted);
    background: transparent;
    transition:
        color 0.18s ease,
        background 0.18s ease;
}

.claude-message-action:hover:not(:disabled) {
    color: var(--ink);
    background: rgba(209, 213, 219, 0.26);
}

.claude-message-action:disabled {
    color: rgba(107, 114, 128, 0.45);
    cursor: not-allowed;
}

.claude-message-caption {
    font-size: 12px;
    color: var(--muted);
}

.claude-message-metrics {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    font-size: 11px;
}

.claude-metric-chip {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 8px;
    border-radius: 999px;
    border: 1px solid var(--divider);
    background: rgba(255, 255, 255, 0.8);
    color: var(--muted);
}

.claude-message-markdown {
    width: 100%;
    font-size: 16px;
    line-height: 1.6;
    color: var(--ink);
    text-shadow:
        0 0 6px rgba(232, 110, 58, 0.18),
        0 0 18px rgba(232, 110, 58, 0.12);
}

.claude-message-markdown a {
    color: var(--ink);
    text-decoration: underline;
}

.claude-message-markdown code {
    font-family: "Source Code Pro", "Fira Code", monospace;
    background: rgba(15, 23, 42, 0.06);
    padding: 2px 4px;
    border-radius: 4px;
}

.claude-md-code-block {
    white-space: pre-wrap;
    word-break: break-word;
    overflow-wrap: anywhere;
}

.claude-md-code-block code {
    white-space: inherit;
}

.claude-mermaid-zoom-controls,
.claude-mermaid-toolbar,
.claude-mermaid-editor-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

.claude-code-copy,
.claude-repair-button,
.claude-zoom-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 8px;
    border: 1px solid var(--divider);
    background: rgba(255, 255, 255, 0.85);
    color: var(--ink);
    font-size: 13px;
    line-height: 1.1;
    transition:
        background 0.18s ease,
        border-color 0.18s ease,
        color 0.18s ease;
}

.claude-code-copy:hover,
.claude-repair-button:hover,
.claude-zoom-btn:hover {
    background: rgba(232, 110, 58, 0.12);
    border-color: rgba(232, 110, 58, 0.32);
}

.claude-repair-button {
    background: rgba(59, 130, 246, 0.18);
    border-color: rgba(59, 130, 246, 0.38);
    color: rgba(29, 78, 216, 1);
}

.claude-repair-button:hover {
    background: rgba(59, 130, 246, 0.26);
    border-color: rgba(37, 99, 235, 0.48);
    color: rgba(29, 78, 216, 1);
}

.claude-repair-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.claude-zoom-btn {
    width: 28px;
    height: 28px;
    padding: 0;
    font-size: 16px;
    line-height: 1;
}

.claude-mermaid-container {
    display: flex;
    flex-direction: column;
    gap: 16px;
    width: 100%;
}

.claude-mermaid-editor,
.claude-mermaid-wrapper {
    border: 1px solid rgba(148, 163, 184, 0.35);
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.9);
    box-shadow:
        0 18px 38px -24px rgba(15, 23, 42, 0.35),
        0 1px 0 rgba(255, 255, 255, 0.6) inset;
}

.claude-mermaid-editor {
    padding: 18px;
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.claude-mermaid-textarea,
.claude-repair-input {
    width: 100%;
    background: rgba(248, 250, 252, 0.92);
    border: 1px solid rgba(148, 163, 184, 0.4);
    border-radius: 12px;
    padding: 12px 14px;
    font-family: "Source Code Pro", "Fira Code", monospace;
    font-size: 14px;
    line-height: 1.5;
    color: var(--ink);
    resize: vertical;
    min-height: 140px;
    transition:
        border-color 0.18s ease,
        box-shadow 0.18s ease;
}

.claude-mermaid-textarea:focus,
.claude-repair-input:focus {
    outline: none;
    border-color: rgba(232, 110, 58, 0.55);
    box-shadow: 0 0 0 2px rgba(232, 110, 58, 0.18);
}

.claude-repair-label {
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    color: var(--muted);
}

.claude-repair-feedback {
    margin: 0;
    font-size: 13px;
    color: rgba(220, 38, 38, 0.75);
}

.claude-mermaid-wrapper {
    padding: 16px;
    overflow: hidden;
    background: rgba(255, 255, 255, 0.95);
}

.claude-mermaid-toolbar {
    justify-content: flex-end;
    flex-wrap: wrap;
}

.claude-mermaid-editor-actions {
    justify-content: flex-end;
    flex-wrap: wrap;
}

.claude-mermaid-error {
    border: 1px solid rgba(15, 23, 42, 0.15);
    background: rgba(148, 163, 184, 0.08);
    color: #1f2937;
    border-radius: 10px;
    padding: 10px 14px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
    line-height: 1.45;
}

.claude-mermaid-error-header {
    display: flex;
    align-items: baseline;
    gap: 10px;
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 0.06em;
    text-transform: uppercase;
}

.claude-mermaid-error-message {
    font-size: 13px;
    font-weight: 400;
    letter-spacing: 0;
    color: inherit;
}

.claude-mermaid-debug-expected {
    margin: 0;
    font-size: 13px;
    color: #9f1239;
}

.claude-mermaid-debug-snippet {
    display: grid;
    gap: 6px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.85);
    border-radius: 12px;
    border: 1px dashed rgba(248, 113, 113, 0.4);
    font-family: "Source Code Pro", "Fira Code", monospace;
    font-size: 13px;
}

.claude-mermaid-debug-line {
    display: grid;
    grid-template-columns: 44px 1fr;
    gap: 12px;
    align-items: center;
    color: rgba(71, 85, 105, 0.95);
}

.claude-mermaid-debug-line--error {
    color: #7f1d1d;
    font-weight: 600;
}

.claude-mermaid-debug-line--caret .claude-mermaid-debug-code {
    color: #b91c1c;
}

.claude-mermaid-debug-lineno {
    font-size: 12px;
    font-weight: 600;
    text-align: right;
    color: rgba(100, 116, 139, 0.8);
}

.claude-mermaid-debug-code {
    white-space: pre-wrap;
    word-break: break-word;
}

.claude-mermaid-raw {
    margin: 0;
    padding: 14px;
    border-radius: 12px;
    background: rgba(15, 23, 42, 0.08);
    border: 1px dashed rgba(148, 163, 184, 0.45);
    font-family: "Source Code Pro", "Fira Code", monospace;
    font-size: 13px;
    line-height: 1.6;
    color: var(--ink);
    white-space: pre-wrap;
    overflow-wrap: anywhere;
}

.claude-thinking-wrapper {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
    color: var(--muted);
}

.claude-thinking-dots {
    position: relative;
    width: 18px;
    height: 18px;
}

.claude-thinking-dots::before {
    content: "";
    position: absolute;
    inset: 0;
    border: 2px solid transparent;
    border-top-color: var(--accent);
    border-right-color: var(--accent);
    border-radius: 50%;
    animation: claude-spin 1.2s linear infinite;
}

@keyframes claude-spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.claude-thinking-text {
    font-size: 14px;
    font-weight: 600;
    color: var(--accent, #e86e3a);
    letter-spacing: 0.02em;
    background: linear-gradient(90deg, #e86e3a, #f59e0b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.claude-message-attachments {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 12px;
}

.claude-message-attachments-user {
    margin-top: 10px;
}

.claude-message-attachment {
    border: 1px solid var(--divider);
    border-radius: 14px;
    padding: 10px 12px;
    background: rgba(255, 255, 255, 0.7);
    box-shadow:
        0 1px 2px rgba(15, 23, 42, 0.08),
        0 8px 20px rgba(15, 23, 42, 0.04);
}

.claude-ai-message .claude-message-attachment {
    background: rgba(245, 249, 255, 0.78);
}

.claude-message-attachment-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

.claude-message-attachment-title {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    min-width: 0;
}

.claude-message-attachment-heading {
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
}

.claude-message-attachment-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--ink);
    line-height: 1.35;
    word-break: break-word;
}

.claude-message-attachment-meta {
    font-size: 12px;
    color: var(--muted);
    line-height: 1.2;
}

.claude-message-attachment-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: var(--accent);
    text-decoration: none;
    font-weight: 600;
}

.claude-message-attachment-link:hover {
    text-decoration: underline;
}

.claude-message-attachment-preview {
    margin-top: 10px;
    border-radius: 12px;
    background: rgba(15, 23, 42, 0.04);
    border: 1px solid rgba(148, 163, 184, 0.2);
    padding: 10px;
    max-height: 240px;
    overflow: auto;
}

.claude-message-attachment-preview.image {
    padding: 0;
    max-height: 320px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(15, 23, 42, 0.06);
}

.claude-message-attachment-preview.image img {
    width: 100%;
    height: auto;
    display: block;
    border-radius: 12px;
    object-fit: contain;
}

.claude-message-attachment-preview pre {
    margin: 0;
    font-family: "Source Code Pro", "Fira Code", monospace;
    font-size: 13px;
    line-height: 1.45;
    white-space: pre-wrap;
}

.claude-message-attachment-footnote {
    display: inline-block;
    margin-top: 8px;
    font-size: 11px;
    color: var(--muted);
}

.claude-input-container {
    position: fixed;
    bottom: 0;
    left: 280px;
    right: 0;
    border-top: none;
    background: var(--canvas);
    padding: 16px clamp(18px, 5vw, 32px)
        calc(18px + env(safe-area-inset-bottom, 0px));
    z-index: 100;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
}

/* When sidebar is collapsed (64px) */
.main-layout.sidebar-visible.sidebar-collapsed .claude-input-container {
    left: 64px;
}

/* When sidebar is hidden or on mobile */
.sidebar-hidden .claude-input-container,
.main-layout:not(.sidebar-visible) .claude-input-container {
    left: 0;
}

@media (max-width: 1024px) {
    .claude-input-container {
        left: 0;
    }
}

.claude-input-inner {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
}

.claude-composer {
    width: 100%;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.claude-composer-bar {
    display: flex;
    align-items: center;
    gap: 12px;
    border: 1px solid var(--divider);
    border-radius: 18px;
    background: var(--surface);
    padding: 10px 14px;
}

.claude-composer-icons {
    display: flex;
    align-items: center;
    gap: 10px;
}

.claude-composer-icon {
    width: 28px;
    height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--muted);
    border-radius: 50%;
    transition:
        color 0.18s ease,
        background 0.18s ease;
}

.thinking-toggle {
    width: 32px;
    height: 32px;
    border-radius: 10px;
}

.claude-composer-icon:hover {
    color: var(--ink);
    background: rgba(209, 213, 219, 0.2);
}

.claude-composer-icon.is-active {
    color: var(--ink);
    background: var(--accent-soft);
}

.claude-composer-icon.thinking-toggle {
    border: 1px solid rgba(232, 110, 58, 0.24);
    box-shadow: 0 6px 14px -8px rgba(232, 110, 58, 0.45);
}

.claude-composer-icon.thinking-toggle.is-active {
    color: var(--accent);
    background: rgba(232, 110, 58, 0.18);
    box-shadow:
        0 10px 20px -12px rgba(232, 110, 58, 0.5),
        0 0 0 1px rgba(232, 110, 58, 0.22) inset;
}

.claude-composer-icon:disabled {
    cursor: not-allowed;
    opacity: 0.45;
}

.claude-google-icon {
    display: block;
}

.claude-mode-selector {
    display: inline-flex;
    align-items: center;
    border-radius: 16px;
    background: rgba(255, 255, 255, 0.72);
    border: 1px solid rgba(148, 163, 184, 0.22);
    padding: 2px 8px;
}

.claude-mode-select {
    appearance: none;
    border: none;
    background: transparent;
    font-size: 13px;
    line-height: 1.4;
    color: var(--muted);
    padding: 4px 0;
    cursor: pointer;
}

.claude-mode-select:hover {
    color: var(--ink);
}

.claude-mode-select:focus-visible {
    outline: none;
    color: var(--ink);
}

.claude-composer-field {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
}

.claude-composer-input {
    flex: 1 1 auto;
    border: none;
    background: transparent;
    resize: none;
    font-size: 16px;
    line-height: 1.5;
    color: var(--ink);
    padding: 4px 0;
}

.claude-composer-input::placeholder {
    color: var(--muted);
}

.claude-send-button {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--accent);
    color: #ffffff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: background 0.18s ease;
}

.claude-send-button:disabled {
    background: rgba(232, 110, 58, 0.45);
    cursor: not-allowed;
}

.claude-send-button:hover:not(:disabled) {
    background: #d35f2d;
}

.claude-composer-hint {
    text-align: right;
    font-size: 12px;
    color: var(--muted);
}

.claude-attachments {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 4px;
}

.claude-attachment-chip {
    border-radius: 999px !important;
    border-color: var(--divider) !important;
    color: var(--muted) !important;
    background: rgba(255, 255, 255, 0.75) !important;
}

.claude-attachment-chip.loading {
    border-style: dashed !important;
}

.claude-attachment-chip.error {
    border-color: rgba(232, 110, 58, 0.4) !important;
    color: var(--accent) !important;
}

.claude-attachment-error {
    color: rgba(232, 110, 58, 0.8);
}

/* File attachment preview - improved UI */
.claude-attachments-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
    padding: 10px;
    background: rgba(248, 250, 252, 0.6);
    border-radius: 12px;
    border: 1px solid rgba(148, 163, 184, 0.15);
}

.claude-attachment-preview-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 10px;
    max-width: 240px;
    min-width: 160px;
    position: relative;
    transition: all 0.2s ease;
}

.claude-attachment-preview-item:hover {
    border-color: rgba(148, 163, 184, 0.4);
    box-shadow: 0 2px 8px -2px rgba(15, 23, 42, 0.1);
}

.claude-attachment-preview-item.loading {
    border-style: dashed;
    opacity: 0.85;
}

.claude-attachment-preview-item.error {
    border-color: rgba(220, 38, 38, 0.4);
    background: rgba(254, 242, 242, 0.9);
}

.claude-attachment-preview-thumb {
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(241, 245, 249, 0.8);
    border: 1px solid rgba(148, 163, 184, 0.15);
    position: relative;
}

.claude-attachment-preview-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.claude-attachment-preview-icon {
    color: var(--muted);
    display: flex;
    align-items: center;
    justify-content: center;
}

.claude-attachment-preview-loading {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.8);
}

.claude-attachment-preview-info {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.claude-attachment-preview-name {
    font-size: 13px;
    font-weight: 500;
    color: var(--ink);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.claude-attachment-preview-size {
    font-size: 11px;
    color: var(--muted);
}

.claude-attachment-preview-item.error .claude-attachment-preview-size {
    color: rgba(220, 38, 38, 0.9);
}

.claude-attachment-remove-btn {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(220, 38, 38, 0.1);
    color: #dc2626;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.claude-attachment-remove-btn:hover {
    background: #dc2626;
    color: white;
    transform: scale(1.1);
}

.claude-attachment-remove-btn svg {
    font-size: 16px;
}

.claude-popover {
    background: rgba(17, 24, 39, 0.96) !important;
    color: rgba(248, 250, 252, 0.92) !important;
    border: 1px solid rgba(148, 163, 184, 0.45) !important;
    box-shadow:
        0 32px 64px -24px rgba(15, 23, 42, 0.65),
        0 0 1px rgba(255, 255, 255, 0.12) inset !important;
    backdrop-filter: blur(16px);
}

.claude-popover .MuiTypography-root,
.claude-popover .MuiFormControlLabel-label {
    color: inherit !important;
}

.claude-popover .MuiButton-contained {
    color: #0f172a;
    background: rgba(248, 250, 252, 0.95);
}

.claude-popover .MuiButton-contained:hover {
    background: rgba(255, 255, 255, 0.88);
}

.claude-popover .MuiOutlinedInput-root {
    color: inherit;
}

.claude-popover .MuiOutlinedInput-input {
    color: inherit;
}

.claude-popover .MuiSwitch-track {
    background: rgba(248, 250, 252, 0.35) !important;
}

.claude-popover .MuiSwitch-thumb {
    background: #f8fafc !important;
}

@media (max-width: 880px) {
    .claude-composer,
    .claude-messages {
        width: min(94%, 760px);
    }

    .claude-composer-bar {
        flex-wrap: wrap;
        padding: 12px;
    }

    .claude-composer-icons {
        order: 1;
    }

    .claude-composer-field {
        order: 0;
        width: 100%;
    }

    .claude-send-button {
        width: 34px;
        height: 34px;
    }
}

@media (max-width: 600px) {
    .claude-message {
        gap: 12px;
    }

    .claude-message-body-user {
        padding: 16px 18px;
    }

    .claude-composer-bar {
        border-radius: 16px;
    }

    .claude-composer-hint {
        text-align: left;
    }
}

@media (max-width: 480px) {
    .claude-messages {
        gap: 28px;
    }

    .claude-composer-bar {
        padding: 10px;
    }

    .claude-composer-icons {
        gap: 8px;
    }
}

.claude-message-action svg {
    font-size: 18px;
}

.claude-message-action.is-active {
    color: var(--accent);
}

.claude-message-action.stop {
    color: var(--accent);
}

.claude-message-action.danger {
    color: rgba(185, 28, 28, 0.75);
}

.claude-message-action.danger:hover {
    color: #b91c1c;
}

.claude-reasoning-block {
    width: 100%;
    border: 1px solid rgba(232, 110, 58, 0.2);
    border-radius: 14px;
    padding: 14px 16px;
    background: linear-gradient(
        120deg,
        rgba(232, 110, 58, 0.06),
        rgba(255, 255, 255, 0.92)
    );
    box-shadow:
        0 18px 38px -26px rgba(15, 23, 42, 0.45),
        0 1px 0 rgba(255, 255, 255, 0.4) inset;
}

.claude-reasoning-block--live {
    border-color: rgba(232, 110, 58, 0.55);
    box-shadow:
        0 20px 42px -26px rgba(232, 110, 58, 0.45),
        0 1px 0 rgba(255, 255, 255, 0.48) inset;
}

.claude-reasoning-header {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    color: var(--muted);
    font-size: 12px;
    justify-content: space-between;
}

.claude-reasoning-meta {
    display: inline-flex;
    align-items: center;
    gap: 10px;
}

.claude-reasoning-indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--accent);
    box-shadow: 0 0 0 6px rgba(232, 110, 58, 0.18);
    transition:
        box-shadow 0.2s ease,
        transform 0.2s ease;
}

.claude-reasoning-indicator.is-live {
    animation: claude-reasoning-pulse 1.35s ease-in-out infinite;
    box-shadow: 0 0 0 8px rgba(232, 110, 58, 0.26);
    transform: scale(1.02);
}

.claude-reasoning-title {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--ink);
}

.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

.claude-reasoning-icon {
    color: var(--accent);
    opacity: 0.9;
}

.claude-reasoning-live-pill {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    border-radius: 999px;
    background: rgba(232, 110, 58, 0.12);
    color: var(--accent);
    font-size: 11px;
    letter-spacing: 0.06em;
}

.claude-reasoning-preview {
    color: rgba(107, 114, 128, 0.78);
    font-size: 11px;
    font-weight: 500;
    max-width: 60ch;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
}

.claude-reasoning-content {
    margin-top: 12px;
    color: var(--ink);
    font-size: 14px;
    line-height: 1.55;
    padding-top: 10px;
    border-top: 1px dashed rgba(148, 163, 184, 0.5);
    max-height: 320px;
    overflow-y: auto;
    scrollbar-gutter: stable;
}

@keyframes claude-reasoning-pulse {
    0% {
        box-shadow: 0 0 0 6px rgba(232, 110, 58, 0.34);
    }
    60% {
        box-shadow: 0 0 0 16px rgba(232, 110, 58, 0);
    }
    100% {
        box-shadow: 0 0 0 6px rgba(232, 110, 58, 0);
    }
}

/* ============================================
   Context Banner - Custom Shan / Project
   ============================================ */

.claude-context-banner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 12px 24px;
    background: linear-gradient(135deg, rgba(232, 110, 58, 0.08) 0%, rgba(232, 110, 58, 0.04) 100%);
    border-bottom: 1px solid rgba(232, 110, 58, 0.15);
    width: 100%;
    box-sizing: border-box;
}

.claude-context-banner.custom-shan {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08) 0%, rgba(139, 92, 246, 0.04) 100%);
    border-color: rgba(139, 92, 246, 0.15);
}

.claude-context-banner.project {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0.04) 100%);
    border-color: rgba(59, 130, 246, 0.15);
}

.claude-context-content {
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 0;
}

.claude-context-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    object-fit: cover;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.claude-context-icon-default {
    width: 36px;
    height: 36px;
    padding: 6px;
    border-radius: 10px;
    flex-shrink: 0;
    box-sizing: border-box;
}

.claude-context-banner.custom-shan .claude-context-icon-default {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
}

.claude-context-banner.project .claude-context-icon-default {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
}

.claude-context-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
}

.claude-context-label {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--muted);
    line-height: 1.2;
}

.claude-context-banner.custom-shan .claude-context-label {
    color: #7c3aed;
}

.claude-context-banner.project .claude-context-label {
    color: #2563eb;
}

.claude-context-name {
    font-size: 15px;
    font-weight: 600;
    color: var(--ink);
    line-height: 1.3;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.claude-context-close {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 8px;
    background: rgba(107, 114, 128, 0.08);
    color: var(--muted);
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.claude-context-close:hover {
    background: rgba(107, 114, 128, 0.15);
    color: var(--ink);
}

@media (max-width: 600px) {
    .claude-context-banner {
        padding: 10px 16px;
    }

    .claude-context-icon,
    .claude-context-icon-default {
        width: 32px;
        height: 32px;
    }

    .claude-context-label {
        font-size: 10px;
    }

    .claude-context-name {
        font-size: 14px;
    }
}

/* Context-aware welcome UI for Custom Shan / Project */
.claude-context-welcome {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: min(680px, 92%);
    margin: 0 auto;
    padding: 24px 24px 20px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    border: 1px solid rgba(0, 0, 0, 0.08);
    border-radius: 20px;
    box-shadow: 0 8px 32px -8px rgba(0, 0, 0, 0.1);
    text-align: center;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}

.claude-context-welcome.custom-shan {
    background: linear-gradient(180deg, rgba(139, 92, 246, 0.04) 0%, rgba(255, 255, 255, 0.95) 100%);
    border-color: rgba(139, 92, 246, 0.15);
}

.claude-context-welcome.project {
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.04) 0%, rgba(255, 255, 255, 0.95) 100%);
    border-color: rgba(59, 130, 246, 0.15);
}

.claude-context-welcome-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-bottom: 12px;
}

.claude-context-welcome-settings {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: rgba(107, 114, 128, 0.08);
    color: var(--muted);
    transition: all 0.2s ease;
}

.claude-context-welcome-settings:hover {
    background: rgba(107, 114, 128, 0.15);
    color: var(--ink);
}

.claude-context-welcome-avatar {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    object-fit: cover;
    box-shadow: 0 4px 16px -4px rgba(0, 0, 0, 0.2);
}

.claude-context-welcome.custom-shan .claude-context-welcome-avatar {
    border: 3px solid rgba(139, 92, 246, 0.3);
}

.claude-context-welcome.project .claude-context-welcome-avatar {
    border: 3px solid rgba(59, 130, 246, 0.3);
}

.claude-context-welcome-avatar-default {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 16px -4px rgba(0, 0, 0, 0.2);
}

.claude-context-welcome-avatar-default.custom-shan {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
}

.claude-context-welcome-avatar-default.project {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
}

.claude-context-welcome-avatar-default svg {
    font-size: 26px;
}

.claude-context-welcome-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.claude-context-welcome-name {
    font-size: 1.15rem !important;
    font-weight: 700 !important;
    color: var(--ink);
    letter-spacing: -0.02em;
}

.claude-context-welcome-type {
    font-size: 0.75rem !important;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 500;
}

.claude-context-welcome.custom-shan .claude-context-welcome-type {
    color: #7c3aed;
}

.claude-context-welcome.project .claude-context-welcome-type {
    color: #2563eb;
}

.claude-context-welcome-description {
    max-width: 480px;
    font-size: 0.85rem !important;
    color: var(--muted);
    line-height: 1.5;
    margin-bottom: 12px;
}

.claude-context-welcome-starter {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 14px;
    width: 100%;
    max-width: 480px;
}

.claude-context-welcome-starter-label {
    font-size: 0.7rem !important;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--muted);
    font-weight: 600;
}

.claude-context-welcome-starter-btn {
    padding: 14px 20px;
    background: rgba(139, 92, 246, 0.08);
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 12px;
    color: #7c3aed;
    font-size: 0.9rem;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s ease;
    line-height: 1.5;
}

.claude-context-welcome-starter-btn:hover {
    background: rgba(139, 92, 246, 0.12);
    border-color: rgba(139, 92, 246, 0.35);
    transform: translateY(-1px);
}

.claude-context-welcome-features {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    margin-bottom: 16px;
}

.claude-context-welcome-feature {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: rgba(0, 0, 0, 0.03);
    border-radius: 20px;
    font-size: 0.8rem;
    color: var(--muted);
    font-weight: 500;
}

.claude-feature-icon {
    font-size: 16px !important;
    opacity: 0.7;
}

.claude-context-welcome .claude-composer-container {
    width: 100%;
}

/* Project emoji icon */
.claude-context-welcome-emoji {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 16px -4px rgba(0, 0, 0, 0.15);
}

.claude-context-welcome-emoji.project {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%);
    border: 2px solid rgba(59, 130, 246, 0.25);
}

.claude-project-emoji {
    font-size: 28px;
    line-height: 1;
}

/* Project info badges */
.claude-project-welcome-info {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    margin-bottom: 12px;
}

.claude-project-files-badge,
.claude-project-instructions-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.15);
    border-radius: 10px;
    font-size: 0.75rem;
    color: #2563eb;
    font-weight: 500;
}

.claude-project-files-icon,
.claude-project-instructions-icon {
    font-size: 18px !important;
    opacity: 0.8;
}

.claude-context-welcome-feature.project-feature {
    background: rgba(59, 130, 246, 0.06);
    color: #2563eb;
}

.claude-context-welcome-feature.project-feature .claude-feature-icon {
    color: #3b82f6;
    opacity: 0.9;
}

@media (max-width: 768px) {
    .claude-context-welcome {
        padding: 28px 20px;
    }

    .claude-context-welcome-avatar,
    .claude-context-welcome-avatar-default,
    .claude-context-welcome-emoji {
        width: 64px;
        height: 64px;
        border-radius: 16px;
    }

    .claude-context-welcome-avatar-default svg {
        font-size: 28px;
    }

    .claude-project-emoji {
        font-size: 32px;
    }

    .claude-context-welcome-name {
        font-size: 1.25rem !important;
    }

    .claude-context-welcome-features {
        gap: 8px;
    }

    .claude-context-welcome-feature {
        padding: 6px 12px;
        font-size: 0.75rem;
    }

    .claude-project-files-badge,
    .claude-project-instructions-badge {
        padding: 8px 12px;
        font-size: 0.8rem;
    }
}

.claude-editing-banner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 12px;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    color: var(--muted);
}

.claude-editing-banner button {
    color: var(--accent);
    font-size: 12px;
    letter-spacing: 0.08em;
    text-transform: uppercase;
}

.claude-message-body-assistant {
    background: transparent;
}

/* Assistant avatar row */
.claude-assistant-row {
    display: flex;
    align-items: flex-start;
    gap: 12px;
}

.claude-assistant-avatar {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    margin-top: 2px;
}

.claude-assistant-avatar-img {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    object-fit: cover;
    border: 1px solid rgba(232, 110, 58, 0.2);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.claude-assistant-avatar-default {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: linear-gradient(135deg, #e86e3a 0%, #d35f2d 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 14px;
    box-shadow: 0 2px 8px rgba(232, 110, 58, 0.25);
}

/* Mode selector effort panel */
.claude-effort-panel {
    background: rgba(17, 24, 39, 0.96);
    border: 1px solid rgba(148, 163, 184, 0.35);
    border-radius: 16px;
    padding: 16px;
    min-width: 320px;
    max-width: 400px;
    box-shadow: 0 24px 48px -12px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(16px);
}

.claude-effort-panel-header {
    margin-bottom: 12px;
}

.claude-effort-panel-title {
    display: block;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: rgba(248, 250, 252, 0.7);
    margin-bottom: 4px;
}

.claude-effort-panel-subtitle {
    display: block;
    font-size: 12px;
    color: rgba(148, 163, 184, 0.8);
    line-height: 1.4;
}

.claude-effort-divider {
    border-color: rgba(148, 163, 184, 0.2) !important;
    margin: 12px 0 !important;
}

.claude-effort-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 320px;
    overflow-y: auto;
}

.claude-effort-option {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(148, 163, 184, 0.15);
    cursor: pointer;
    transition: all 0.18s ease;
    text-align: left;
    width: 100%;
}

.claude-effort-option:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(148, 163, 184, 0.3);
}

.claude-effort-option.active {
    background: rgba(var(--effort-accent-rgb, 139, 92, 246), 0.15);
    border-color: var(--effort-accent, #8b5cf6);
}

.claude-effort-option-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.08);
    color: var(--effort-accent, #8b5cf6);
    flex-shrink: 0;
}

.claude-effort-option.active .claude-effort-option-icon {
    background: var(--effort-accent, #8b5cf6);
    color: #ffffff;
}

.claude-effort-option-content {
    flex: 1;
    min-width: 0;
}

.claude-effort-option-label {
    font-size: 14px;
    font-weight: 600;
    color: rgba(248, 250, 252, 0.95);
    margin-bottom: 2px;
}

.claude-effort-option-description {
    font-size: 12px;
    color: rgba(148, 163, 184, 0.8);
    line-height: 1.4;
}

.claude-effort-option-quota {
    font-size: 11px;
    color: rgba(148, 163, 184, 0.6);
    margin-top: 4px;
}

.claude-effort-option-quota.depleted {
    color: rgba(239, 68, 68, 0.9);
}

.claude-effort-option-quota.unlimited {
    color: rgba(34, 197, 94, 0.8);
}

.claude-effort-option-quota-note {
    font-size: 10px;
    margin-top: 2px;
}

.claude-effort-option-quota-note.over {
    color: rgba(239, 68, 68, 0.8);
}

.claude-effort-option-quota-note.skipped {
    color: rgba(251, 191, 36, 0.8);
}

.claude-effort-option-body {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.claude-effort-option-desc {
    font-size: 12px;
    color: rgba(148, 163, 184, 0.8);
    line-height: 1.4;
}

.claude-effort-option-check {
    color: var(--effort-accent, #8b5cf6);
    display: flex;
    align-items: center;
    flex-shrink: 0;
}

.claude-effort-footer {
    font-size: 11px;
    color: rgba(148, 163, 184, 0.6);
    line-height: 1.5;
    padding-top: 8px;
}

/* ============================================
   Deep Research Card - ChatGPT-like UX
   ============================================ */

.deep-research-card {
    width: 100%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.92) 100%);
    border: 1px solid rgba(148, 163, 184, 0.25);
    border-radius: 16px;
    padding: 0;
    margin-bottom: 16px;
    box-shadow:
        0 4px 24px -8px rgba(15, 23, 42, 0.12),
        0 1px 0 rgba(255, 255, 255, 0.8) inset;
    overflow: hidden;
}

.deep-research-header {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 16px 18px;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(139, 92, 246, 0.06) 100%);
    border-bottom: 1px solid rgba(148, 163, 184, 0.15);
}

.deep-research-title-row {
    display: flex;
    align-items: center;
    gap: 12px;
}

.deep-research-icon-wrapper {
    position: relative;
    width: 40px;
    height: 40px;
    border-radius: 12px;
    background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px -4px rgba(59, 130, 246, 0.5);
}

.deep-research-main-icon {
    color: white !important;
    font-size: 22px !important;
}

.deep-research-pulse {
    position: absolute;
    inset: -4px;
    border-radius: 16px;
    border: 2px solid rgba(59, 130, 246, 0.6);
    animation: deep-research-pulse 2s ease-out infinite;
}

@keyframes deep-research-pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform: scale(1.3);
        opacity: 0;
    }
}

.deep-research-title-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.deep-research-title {
    margin: 0;
    font-size: 16px;
    font-weight: 700;
    color: #1f2937;
    letter-spacing: -0.01em;
}

.deep-research-status {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: #6b7280;
}

.deep-research-status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.deep-research-status-dot.streaming {
    background: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);
    animation: deep-research-dot-pulse 1.5s ease-in-out infinite;
}

.deep-research-status-dot.complete {
    background: #10b981;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
}

@keyframes deep-research-dot-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.deep-research-stats {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.deep-research-stat {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(148, 163, 184, 0.2);
    font-size: 12px;
    font-weight: 500;
    color: #475569;
}

.deep-research-stat.highlight {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.3);
    color: #047857;
}

.deep-research-stat.complete {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.4);
    color: #047857;
}

.deep-research-stat.complete::after {
    content: '';
    margin-left: 4px;
    font-size: 10px;
}

/* Progress bar */
.deep-research-progress-container {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-top: 4px;
}

.deep-research-progress-bar {
    width: 100%;
    height: 6px;
    background: rgba(148, 163, 184, 0.2);
    border-radius: 3px;
    overflow: hidden;
}

.deep-research-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #3b82f6 0%, #10b981 100%);
    border-radius: 3px;
    transition: width 0.5s ease-out;
    animation: deep-research-progress-glow 2s ease-in-out infinite;
}

@keyframes deep-research-progress-glow {
    0%, 100% {
        box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
    }
    50% {
        box-shadow: 0 0 16px rgba(16, 185, 129, 0.6);
    }
}

.deep-research-progress-label {
    font-size: 11px;
    font-weight: 600;
    color: #64748b;
    text-align: right;
}

/* Progress Phases */
.deep-research-phases {
    display: flex;
    align-items: center;
    padding: 14px 18px;
    gap: 0;
    overflow-x: auto;
    background: rgba(248, 250, 252, 0.6);
    border-bottom: 1px solid rgba(148, 163, 184, 0.12);
}

.deep-research-phase {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-shrink: 0;
    position: relative;
}

.deep-research-phase-icon {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(148, 163, 184, 0.15);
    color: #94a3b8;
    transition: all 0.3s ease;
}

.deep-research-phase.active .deep-research-phase-icon {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    box-shadow: 0 4px 12px -4px rgba(59, 130, 246, 0.5);
    animation: deep-research-phase-active 1.5s ease-in-out infinite;
}

@keyframes deep-research-phase-active {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.08); }
}

.deep-research-phase.complete .deep-research-phase-icon {
    background: #10b981;
    color: white;
}

.deep-research-phase.pending .deep-research-phase-icon {
    background: rgba(148, 163, 184, 0.1);
    color: #cbd5e1;
}

.deep-research-phase-label {
    font-size: 11px;
    font-weight: 600;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    white-space: nowrap;
}

.deep-research-phase.active .deep-research-phase-label {
    color: #3b82f6;
}

.deep-research-phase.complete .deep-research-phase-label {
    color: #10b981;
}

.deep-research-phase-connector {
    width: 24px;
    height: 2px;
    background: rgba(148, 163, 184, 0.25);
    margin: 0 6px;
    border-radius: 1px;
}

.deep-research-phase-connector.complete {
    background: #10b981;
}

/* Current Activity */
.deep-research-current-activity {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 18px;
    background: rgba(59, 130, 246, 0.06);
    border-bottom: 1px solid rgba(148, 163, 184, 0.12);
}

.deep-research-activity-indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #3b82f6;
    animation: deep-research-activity-pulse 1s ease-in-out infinite;
}

@keyframes deep-research-activity-pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.7; }
}

.deep-research-activity-text {
    font-size: 13px;
    color: #1f2937;
    font-weight: 500;
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Sections */
.deep-research-section {
    border-bottom: 1px solid rgba(148, 163, 184, 0.12);
}

.deep-research-section:last-child {
    border-bottom: none;
}

.deep-research-section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 12px 18px;
    background: transparent;
    border: none;
    cursor: pointer;
    transition: background 0.2s ease;
}

.deep-research-section-header:hover {
    background: rgba(148, 163, 184, 0.06);
}

.deep-research-section-title {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    font-weight: 600;
    color: #374151;
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

.deep-research-section-count {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 10px;
    background: rgba(59, 130, 246, 0.12);
    color: #3b82f6;
    font-size: 11px;
    font-weight: 700;
}

/* Timeline */
.deep-research-timeline {
    padding: 0 18px 16px;
    max-height: 400px;
    overflow-y: auto;
}

.deep-research-timeline-list {
    list-style: none;
    margin: 0;
    padding: 0;
}

.deep-research-timeline-item {
    display: flex;
    gap: 12px;
    padding: 10px 0;
    position: relative;
}

.deep-research-timeline-item::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 32px;
    bottom: -10px;
    width: 2px;
    background: rgba(148, 163, 184, 0.2);
}

.deep-research-timeline-item:last-child::before {
    display: none;
}

.deep-research-timeline-item.latest {
    animation: deep-research-item-appear 0.3s ease-out;
}

@keyframes deep-research-item-appear {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.deep-research-timeline-marker {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(var(--marker-color-rgb, 148, 163, 184), 0.12);
    border: 2px solid var(--marker-color, #94a3b8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
}

.deep-research-timeline-content {
    flex: 1;
    min-width: 0;
}

.deep-research-timeline-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 4px;
}

.deep-research-timeline-tag {
    display: inline-flex;
    align-items: center;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    background: rgba(var(--tag-color-rgb, 148, 163, 184), 0.12);
    color: var(--tag-color, #94a3b8);
}

.deep-research-timeline-headline {
    margin: 0;
    font-size: 14px;
    line-height: 1.5;
    color: #1f2937;
    word-break: break-word;
}

.deep-research-source-link {
    display: inline-flex;
    align-items: center;
    margin-left: 6px;
    color: #3b82f6;
    opacity: 0.7;
    transition: opacity 0.2s ease;
}

.deep-research-source-link:hover {
    opacity: 1;
}

.deep-research-timeline-details {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-top: 6px;
    padding: 8px 10px;
    background: rgba(148, 163, 184, 0.06);
    border-radius: 8px;
}

.deep-research-detail {
    font-size: 12px;
    color: #6b7280;
    line-height: 1.4;
}

.deep-research-detail strong {
    color: #374151;
}

/* Empty state */
.deep-research-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 24px;
    color: #94a3b8;
    font-size: 13px;
}

.deep-research-loading-dots {
    display: flex;
    gap: 6px;
}

.deep-research-loading-dots span {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #3b82f6;
    animation: deep-research-dots 1.4s ease-in-out infinite both;
}

.deep-research-loading-dots span:nth-child(1) {
    animation-delay: 0s;
}

.deep-research-loading-dots span:nth-child(2) {
    animation-delay: 0.2s;
}

.deep-research-loading-dots span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes deep-research-dots {
    0%, 80%, 100% {
        transform: scale(0.6);
        opacity: 0.5;
    }
    40% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Sources */
.deep-research-sources {
    padding: 0 18px 16px;
}

.deep-research-source-group {
    margin-bottom: 12px;
}

.deep-research-source-group:last-child {
    margin-bottom: 0;
}

.deep-research-source-group.secondary {
    opacity: 0.7;
}

.deep-research-source-label {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    font-weight: 600;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    margin-bottom: 8px;
}

.deep-research-source-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.deep-research-source-item {
    display: inline-flex;
}

.deep-research-source-item a {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 8px;
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.15);
    color: #2563eb;
    font-size: 12px;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s ease;
}

.deep-research-source-item a:hover {
    background: rgba(59, 130, 246, 0.15);
    border-color: rgba(59, 130, 246, 0.3);
}

.deep-research-source-item.muted a {
    background: rgba(148, 163, 184, 0.08);
    border-color: rgba(148, 163, 184, 0.15);
    color: #64748b;
}

.deep-research-source-domain {
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Open Gaps / Still Investigating */
.deep-research-gaps {
    padding: 0 18px 16px;
}

.deep-research-gap-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.deep-research-gap-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 14px;
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.08), rgba(245, 158, 11, 0.04));
    border: 1px solid rgba(245, 158, 11, 0.2);
    border-radius: 10px;
    animation: deep-research-gap-pulse 2s ease-in-out infinite;
}

@keyframes deep-research-gap-pulse {
    0%, 100% {
        border-color: rgba(245, 158, 11, 0.2);
    }
    50% {
        border-color: rgba(245, 158, 11, 0.4);
    }
}

.deep-research-gap-bullet {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    background: rgba(245, 158, 11, 0.15);
    color: #d97706;
    font-size: 12px;
    font-weight: 700;
    border-radius: 50%;
}

.deep-research-gap-text {
    font-size: 13px;
    color: #92400e;
    line-height: 1.4;
}

/* Footer */
.deep-research-footer {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    padding: 12px 18px;
    background: rgba(248, 250, 252, 0.8);
    border-top: 1px solid rgba(148, 163, 184, 0.12);
}

.deep-research-meta {
    font-size: 11px;
    color: #94a3b8;
}

.deep-research-meta strong {
    color: #64748b;
    font-weight: 600;
}

/* Mobile responsiveness */
@media (max-width: 600px) {
    .deep-research-card {
        border-radius: 12px;
    }

    .deep-research-header {
        padding: 14px 14px;
    }

    .deep-research-phases {
        padding: 12px 14px;
        gap: 0;
    }

    .deep-research-phase-label {
        display: none;
    }

    .deep-research-phase-connector {
        width: 16px;
    }

    .deep-research-section-header {
        padding: 10px 14px;
    }

    .deep-research-timeline {
        padding: 0 14px 14px;
        max-height: 300px;
    }

    .deep-research-sources {
        padding: 0 14px 14px;
    }

    .deep-research-gaps {
        padding: 0 14px 14px;
    }

    .deep-research-gap-item {
        padding: 8px 12px;
    }

    .deep-research-footer {
        padding: 10px 14px;
    }
}

/* ================================
   Model Selector - Premium Style
   ================================ */

.claude-model-selector-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 14px;
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(99, 102, 241, 0.05) 100%);
    color: #1e293b;
    cursor: pointer;
    font-size: 0.8125rem;
    font-weight: 500;
    transition: all 0.2s ease;
    backdrop-filter: blur(8px);
}

.claude-model-selector-btn:hover {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.18) 0%, rgba(99, 102, 241, 0.1) 100%);
    border-color: rgba(139, 92, 246, 0.5);
    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.15);
    transform: translateY(-1px);
}

.claude-model-selector-content {
    display: flex;
    align-items: center;
    gap: 8px;
}

.claude-model-new-badge {
    padding: 2px 6px;
    font-size: 0.5625rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border-radius: 4px;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

.claude-model-selector-label {
    white-space: nowrap;
}

.claude-model-selector-arrow {
    opacity: 0.7;
    font-size: 1.1rem !important;
    transition: transform 0.25s ease;
}

.claude-model-selector-btn[aria-expanded="true"] .claude-model-selector-arrow {
    transform: rotate(180deg);
}

/* Model Popover - Premium Glass */
.claude-model-popover {
    background: linear-gradient(180deg, rgba(30, 41, 59, 0.98) 0%, rgba(15, 23, 42, 0.98) 100%) !important;
    border: 1px solid rgba(148, 163, 184, 0.15);
    box-shadow:
        0 24px 48px rgba(0, 0, 0, 0.4),
        0 0 0 1px rgba(255, 255, 255, 0.05) inset !important;
    backdrop-filter: blur(20px);
}

.claude-model-popover-header {
    padding: 20px 20px 16px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.03) 0%, transparent 100%);
}

.claude-model-popover-title {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: #f8fafc;
    margin-bottom: 4px !important;
}

.claude-model-popover-subtitle {
    color: #94a3b8 !important;
    font-size: 0.8125rem !important;
}

/* Model Tabs - Pill Style */
.claude-model-tabs {
    min-height: 44px !important;
    padding: 0 12px;
    margin: 0 8px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
}

.claude-model-tabs .MuiTabs-indicator {
    display: none;
}

.claude-model-tab {
    min-height: 36px !important;
    margin: 4px !important;
    padding: 6px 20px !important;
    font-size: 0.8125rem !important;
    font-weight: 500 !important;
    color: #94a3b8 !important;
    text-transform: none !important;
    border-radius: 8px !important;
    transition: all 0.2s ease !important;
}

.claude-model-tab:hover {
    color: #e2e8f0 !important;
    background: rgba(255, 255, 255, 0.05) !important;
}

.claude-model-tab.Mui-selected {
    color: #fff !important;
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%) !important;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3) !important;
}

/* Model Options - Card Style */
.claude-model-options {
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: 360px;
    overflow-y: auto;
}

.claude-model-option {
    display: flex;
    align-items: flex-start;
    gap: 14px;
    padding: 14px 16px;
    border: 1px solid rgba(148, 163, 184, 0.1);
    border-radius: 14px;
    background: rgba(255, 255, 255, 0.02);
    color: inherit;
    cursor: pointer;
    text-align: left;
    width: 100%;
    transition: all 0.2s ease;
    position: relative;
}

.claude-model-option:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(148, 163, 184, 0.2);
    transform: translateX(4px);
}

.claude-model-option.selected {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.12) 0%, rgba(99, 102, 241, 0.08) 100%);
    border-color: rgba(139, 92, 246, 0.4);
    box-shadow:
        0 0 0 1px rgba(139, 92, 246, 0.2),
        0 4px 16px rgba(139, 92, 246, 0.1);
}

.claude-model-option-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 42px;
    height: 42px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
    color: var(--model-accent, #8b5cf6);
    flex-shrink: 0;
    border: 1px solid rgba(255, 255, 255, 0.06);
    transition: all 0.2s ease;
}

.claude-model-option.selected .claude-model-option-icon {
    background: linear-gradient(135deg, var(--model-accent, #8b5cf6) 0%, color-mix(in srgb, var(--model-accent, #8b5cf6) 80%, #4338ca) 100%);
    color: white;
    border-color: transparent;
    box-shadow: 0 4px 12px color-mix(in srgb, var(--model-accent, #8b5cf6) 40%, transparent);
}

.claude-model-option-icon svg {
    font-size: 1.25rem;
}

.claude-model-option-content {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
    min-width: 0;
}

.claude-model-option-header {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
}

.claude-model-option-label {
    font-size: 0.9375rem;
    font-weight: 600;
    color: #f8fafc;
}

.claude-model-option-new {
    padding: 2px 7px;
    font-size: 0.5625rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border-radius: 4px;
    box-shadow: 0 2px 6px rgba(16, 185, 129, 0.25);
}

.claude-model-option-thinking {
    padding: 2px 7px;
    font-size: 0.5625rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(99, 102, 241, 0.15) 100%);
    color: #c4b5fd;
    border-radius: 4px;
    border: 1px solid rgba(139, 92, 246, 0.25);
}

.claude-model-option-ultra {
    padding: 2px 7px;
    font-size: 0.5625rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    border-radius: 4px;
    box-shadow: 0 2px 6px rgba(245, 158, 11, 0.25);
}

.claude-model-option-preview {
    font-size: 0.625rem;
    font-weight: 700;
    color: #fff;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    padding: 2px 6px;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.claude-model-option-premium {
    font-size: 0.625rem;
    font-weight: 700;
    color: #fff;
    background: linear-gradient(135deg, #f59e0b, #ef4444);
    padding: 2px 6px;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    box-shadow: 0 2px 6px rgba(245, 158, 11, 0.3);
}

.claude-model-option.locked {
    opacity: 0.6;
    cursor: not-allowed;
}

.claude-model-option.locked:hover {
    background: transparent;
    transform: none;
}

.claude-model-option.premium {
    border: 1px solid rgba(245, 158, 11, 0.3);
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.05), rgba(139, 92, 246, 0.05));
}

.claude-model-option.premium:not(.locked):hover {
    border-color: rgba(245, 158, 11, 0.5);
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(139, 92, 246, 0.1));
}

.claude-model-option-lock {
    color: #64748b;
    opacity: 0.7;
}

.claude-model-option-desc {
    font-size: 0.8125rem;
    color: #94a3b8;
    line-height: 1.4;
}

.claude-model-option-multiplier {
    font-size: 0.75rem;
    color: #64748b;
    margin-top: 2px;
}

.claude-model-option-check {
    color: var(--model-accent, #8b5cf6);
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.2s ease;
}

.claude-model-option.selected .claude-model-option-check {
    opacity: 1;
    transform: scale(1);
}

.claude-model-popover-footer {
    padding: 14px 20px;
    border-top: 1px solid rgba(148, 163, 184, 0.08);
    background: rgba(0, 0, 0, 0.1);
}

.claude-model-popover-footer .MuiTypography-root {
    color: #64748b;
    font-size: 0.75rem;
}

/* Responsive */
@media (max-width: 480px) {
    .claude-model-selector-btn {
        padding: 6px 10px;
        font-size: 0.75rem;
    }

    .claude-model-option {
        padding: 12px;
    }

    .claude-model-option-icon {
        width: 36px;
        height: 36px;
    }

    .claude-model-option-label {
        font-size: 0.875rem;
    }

    .claude-model-option-desc {
        font-size: 0.75rem;
    }
}
